<MudButton Variant="Variant" Color="Color" Class="@Class" OnClick="OnClickWrap" Disabled="_processing">
    @if (_processing)
    {
        <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true"/>
        <MudText Class="ms-2">Processing</MudText>
    }
    else
    {
        <MudText>
            @Text
        </MudText>
    }
</MudButton>

@code {

    [Parameter]
    public string Text { get; set; }

    [Parameter]
    public string Class { get; set; }

    [Parameter]
    public Color Color { get; set; }

    [Parameter]
    public Variant Variant { get; set; }

    [Parameter]
    public EventCallback OnClick { get; set; }

    private bool _processing;

    private async Task OnClickWrap()
    {
        _processing = true;
        await OnClick.InvokeAsync();
        _processing = false;
    }

}